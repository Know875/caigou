#!/bin/bash

echo "=========================================="
echo "检查异常进程"
echo "=========================================="
echo ""

echo "📊 1. 查看异常进程详细信息"
echo "----------------------------------------"
ps aux | grep -E "155845|fghgf" | grep -v grep

echo ""
echo "📊 2. 查看进程的完整命令行"
echo "----------------------------------------"
ps -fp 155845 2>/dev/null || echo "进程可能已不存在"

echo ""
echo "📊 3. 查看进程的网络连接"
echo "----------------------------------------"
ss -tunp | grep 155845 || echo "无网络连接"

echo ""
echo "📊 4. 查看进程的工作目录"
echo "----------------------------------------"
ls -la /proc/155845/cwd 2>/dev/null || echo "无法访问进程目录"

echo ""
echo "📊 5. 查看进程的可执行文件"
echo "----------------------------------------"
ls -la /proc/155845/exe 2>/dev/null || echo "无法访问可执行文件"

echo ""
echo "📊 6. 查看 CPU 使用率最高的进程"
echo "----------------------------------------"
ps aux --sort=-%cpu | head -n 15

echo ""
echo "=========================================="
echo "检查完成"
echo "=========================================="

