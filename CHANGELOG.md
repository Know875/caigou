# 更新日志

## [1.0.0] - 2025-01-21

### 🎉 首次正式发布

#### ✨ 核心功能

**询价和报价管理**
- 询价单创建、发布和管理
- 供应商报价提交和查看
- 自动选商和手动选商
- 报价对比和分析

**采购管理**
- 电商平台采购清单管理
- 快递单号和成本价录入
- 一键复制收件信息
- 商品名称点击跳转拼多多搜索

**发货管理**
- 供应商发货单管理
- 发货状态总览（按门店分组）
- 物流单号跟踪
- 换货发货单标识
- 发货时间显示（供应商发货时间 / 电商采购输入快递单号时间）

**订单管理**
- 订单创建和管理
- 订单状态跟踪
- 历史订单导入和统计

**售后管理**
- 售后工单创建和管理
- 自动分配（供应商发货 → 供应商，电商采购 → 采购员）
- 供应商处理流程（编辑方案、上传附件、上传换货快递单号）
- 门店关联
- SLA 时间管理（统一7天）
- 通知提醒（供应商收到工单时自动通知）

**门店管理**
- 门店创建和管理
- 门店筛选和统计

**用户和权限**
- 多角色支持（管理员、采购员、供应商）
- JWT 认证
- 权限控制

**通知系统**
- 系统通知
- 钉钉机器人集成
- 通知类型：询价发布、报价提醒、中标通知、发货更新、售后提醒

#### 🔧 技术特性

**后端**
- NestJS + TypeScript
- Prisma ORM + PostgreSQL
- Redis + BullMQ 队列
- MinIO 文件存储
- 完整的错误处理和日志记录
- API 文档（Swagger）

**前端**
- Next.js 15 + React + TypeScript
- Tailwind CSS 响应式设计
- 移动端优化
- 实时数据刷新

**部署**
- Linux 服务器部署指南
- PM2 进程管理
- Nginx 反向代理
- SSL 证书配置
- 数据库备份和恢复

#### 📊 数据展示

**发货状态总览**
- 按门店分组显示
- 显示用户名、OPENID、商品价值、积分
- OPENID 一键复制
- 换货发货单标识
- 发货时间显示

**电商平台采购清单**
- 按门店分组
- 收件信息一键复制
- 快递单号和成本价录入优化
- 商品名称点击跳转拼多多

#### 🐛 Bug 修复

- 修复通知类型不匹配问题（`AFTER_SALES_CREATED` → `AFTERSALES_ALERT`）
- 修复电商平台采购发货时间显示逻辑
- 修复 TypeScript 类型错误
- 优化错误处理和日志记录

#### 🔒 安全

- Redis 密码配置
- JWT 密钥管理
- 环境变量安全配置
- 数据库连接安全

#### 📚 文档

- 完整的部署文档（LINUX_DEPLOYMENT.md）
- 部署前检查清单（DEPLOYMENT_CHECKLIST.md）
- 项目文档（PROJECT.md）
- API 文档（Swagger）

---

## 版本说明

### 版本号格式
采用语义化版本控制（Semantic Versioning）：`主版本号.次版本号.修订号`

- **主版本号**：不兼容的 API 修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正

### 1.0.0 版本说明

这是系统的第一个正式版本，包含了完整的采购协同业务流程：
- 询价 → 报价 → 选商 → 发货 → 售后

系统已经过充分测试，可以部署到生产环境使用。

---

**最后更新**: 2025-01-21

